const createAnchorList=()=>window.anchors=Array.from(document.querySelectorAll("#content > h1, #content > h2, #content > h3, #content > h4")),disableArrow=()=>document.querySelector("img#expand_icon").classList.add("nodisplay");function scrollListener(){const e=window.scrollY;removeAllActive();const n=window.anchors.map((e=>e.offsetTop));let t;n.push(document.body.offsetHeight),n.sort(((e,n)=>e-n));for(let o=0;o<window.anchors.length;o++){const c=o>0?(n[o]-n[o-1])/3:520;e>=n[o]-c&&(o===n.length-1||e<n[o+1])&&(t=anchors[o].id)}0===window.anchors.length&&(currentActive(!0),document.querySelector("img#expand_icon").classList.add("nodisplay"),window.removeEventListener("scroll",scrollListener)),document.querySelector('nav ul li a[href="#'+t+'"]').classList.add("active")}function removeAllActive(){for(let e=0;e<window.anchors.length;e++)document.querySelector('nav ul li a[href="#'+anchors[e].id+'"]').classList.remove("active")}function currentActive(e=!1){(0!==window.anchors.length||e)&&document.querySelector("#current > a").classList.toggle("active")}function collapseCurrent(){document.querySelector("#current ul.toc").classList.toggle("nodisplay"),currentActive()}window.addEventListener("load",(()=>{window.anchors=Array.from(document.querySelectorAll("#content > h1, #content > h2, #content > h3, #content > h4")),scrollListener()})),window.addEventListener("scroll",scrollListener);
